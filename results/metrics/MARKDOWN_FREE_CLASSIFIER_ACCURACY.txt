[Parallel(n_jobs=10)]: Using backend ThreadingBackend with 10 concurrent workers.
[Parallel(n_jobs=10)]: Done   5 tasks      | elapsed:    0.7s
[Parallel(n_jobs=10)]: Done  12 tasks      | elapsed:    0.7s
[Parallel(n_jobs=10)]: Done  21 tasks      | elapsed:    0.8s
[Parallel(n_jobs=10)]: Done  30 tasks      | elapsed:    0.9s
[Parallel(n_jobs=10)]: Done  41 tasks      | elapsed:    0.9s
[Parallel(n_jobs=10)]: Done  52 tasks      | elapsed:    1.0s
[Parallel(n_jobs=10)]: Done  65 tasks      | elapsed:    1.2s
[Parallel(n_jobs=10)]: Done  78 tasks      | elapsed:    1.2s
[Parallel(n_jobs=10)]: Done  93 tasks      | elapsed:    1.3s
[Parallel(n_jobs=10)]: Done 108 tasks      | elapsed:    1.4s
[Parallel(n_jobs=10)]: Done 125 tasks      | elapsed:    1.6s
[Parallel(n_jobs=10)]: Done 142 tasks      | elapsed:    1.6s
[Parallel(n_jobs=10)]: Done 161 tasks      | elapsed:    1.8s
[Parallel(n_jobs=10)]: Done 180 tasks      | elapsed:    1.9s
[Parallel(n_jobs=10)]: Done 201 tasks      | elapsed:    2.0s
[Parallel(n_jobs=10)]: Done 222 tasks      | elapsed:    2.1s
[Parallel(n_jobs=10)]: Done 245 tasks      | elapsed:    2.3s
[Parallel(n_jobs=10)]: Done 268 tasks      | elapsed:    2.4s
[Parallel(n_jobs=10)]: Done 293 tasks      | elapsed:    2.7s
[Parallel(n_jobs=10)]: Done 318 tasks      | elapsed:    2.9s
[Parallel(n_jobs=10)]: Done 345 tasks      | elapsed:    3.0s
[Parallel(n_jobs=10)]: Done 372 tasks      | elapsed:    3.1s
[Parallel(n_jobs=10)]: Done 401 tasks      | elapsed:    3.3s
[Parallel(n_jobs=10)]: Done 430 tasks      | elapsed:    3.5s
[Parallel(n_jobs=10)]: Done 461 tasks      | elapsed:    3.7s
[Parallel(n_jobs=10)]: Done 492 tasks      | elapsed:    3.9s
[Parallel(n_jobs=10)]: Done 525 tasks      | elapsed:    4.1s
[Parallel(n_jobs=10)]: Done 558 tasks      | elapsed:    4.3s
[Parallel(n_jobs=10)]: Done 593 tasks      | elapsed:    4.7s
[Parallel(n_jobs=10)]: Done 628 tasks      | elapsed:    4.8s
[Parallel(n_jobs=10)]: Done 665 tasks      | elapsed:    5.1s
[Parallel(n_jobs=10)]: Done 702 tasks      | elapsed:    5.4s
[Parallel(n_jobs=10)]: Done 741 tasks      | elapsed:    5.6s
[Parallel(n_jobs=10)]: Done 780 tasks      | elapsed:    5.9s
[Parallel(n_jobs=10)]: Done 821 tasks      | elapsed:    6.2s
[Parallel(n_jobs=10)]: Done 862 tasks      | elapsed:    6.4s
[Parallel(n_jobs=10)]: Done 905 tasks      | elapsed:    6.7s
[Parallel(n_jobs=10)]: Done 948 tasks      | elapsed:    7.0s
[Parallel(n_jobs=10)]: Done 993 tasks      | elapsed:    7.3s
[Parallel(n_jobs=10)]: Done 1038 tasks      | elapsed:    7.6s
[Parallel(n_jobs=10)]: Done 1085 tasks      | elapsed:    8.1s
[Parallel(n_jobs=10)]: Done 1132 tasks      | elapsed:    8.5s
[Parallel(n_jobs=10)]: Done 1181 tasks      | elapsed:    9.0s
[Parallel(n_jobs=10)]: Done 1230 tasks      | elapsed:    9.5s
[Parallel(n_jobs=10)]: Done 1281 tasks      | elapsed:   10.0s
[Parallel(n_jobs=10)]: Done 1332 tasks      | elapsed:   10.4s
[Parallel(n_jobs=10)]: Done 1385 tasks      | elapsed:   10.9s
[Parallel(n_jobs=10)]: Done 1438 tasks      | elapsed:   11.4s
[Parallel(n_jobs=10)]: Done 1493 tasks      | elapsed:   12.0s
[Parallel(n_jobs=10)]: Done 1548 tasks      | elapsed:   12.5s
[Parallel(n_jobs=10)]: Done 1605 tasks      | elapsed:   13.0s
[Parallel(n_jobs=10)]: Done 1662 tasks      | elapsed:   13.6s
[Parallel(n_jobs=10)]: Done 1721 tasks      | elapsed:   14.2s
[Parallel(n_jobs=10)]: Done 1780 tasks      | elapsed:   14.7s
[Parallel(n_jobs=10)]: Done 1841 tasks      | elapsed:   15.3s
[Parallel(n_jobs=10)]: Done 1902 tasks      | elapsed:   15.8s
[Parallel(n_jobs=10)]: Done 1965 tasks      | elapsed:   16.3s
[Parallel(n_jobs=10)]: Done 2028 tasks      | elapsed:   16.6s
[Parallel(n_jobs=10)]: Done 2093 tasks      | elapsed:   16.9s
[Parallel(n_jobs=10)]: Done 2158 tasks      | elapsed:   17.2s
[Parallel(n_jobs=10)]: Done 2225 tasks      | elapsed:   17.5s
[Parallel(n_jobs=10)]: Done 2292 tasks      | elapsed:   17.6s
[Parallel(n_jobs=10)]: Done 2361 tasks      | elapsed:   17.9s
[Parallel(n_jobs=10)]: Done 2430 tasks      | elapsed:   18.1s
[Parallel(n_jobs=10)]: Done 2501 tasks      | elapsed:   18.4s
[Parallel(n_jobs=10)]: Done 2572 tasks      | elapsed:   18.7s
[Parallel(n_jobs=10)]: Done 2645 tasks      | elapsed:   19.0s
[Parallel(n_jobs=10)]: Done 2718 tasks      | elapsed:   19.4s
[Parallel(n_jobs=10)]: Done 2793 tasks      | elapsed:   19.6s
[Parallel(n_jobs=10)]: Done 2868 tasks      | elapsed:   19.9s
[Parallel(n_jobs=10)]: Done 2945 tasks      | elapsed:   20.3s
[Parallel(n_jobs=10)]: Done 3000 out of 3000 | elapsed:   20.4s finished
======================================================================
MARKDOWN-FREE CLASSIFIER ACCURACY TEST
======================================================================

======================================================================
DATA LEAKAGE CHECK
======================================================================
Training data: classifier_training_samples_markdown_stripped.jsonl
Test data:     intervention_markdown_strip.jsonl

These are DIFFERENT datasets:
  - Training: Separate subset for classifier training
  - Test: Intervention data for judging experiments
  - No overlap between training and test sets
✓ No data leakage

======================================================================
LOADING CLASSIFIER
======================================================================
Loading markdown-free classifier...
✓ Classifier loaded
  Classifier type: Pipeline
  Classes: ['chatgpt-4o-latest-20250326' 'claude-3-5-haiku-20241022'
 'deepseek-r1-0528']

======================================================================
LOADING TEST DATA
======================================================================
Loading data from intervention_markdown_strip.jsonl...
  Total battles loaded: 3000
  Samples extracted: 3000

  Label distribution:
    chatgpt-4o-latest-20250326: 1000 (33.3%)
    deepseek-r1-0528: 1000 (33.3%)
    claude-3-5-haiku-20241022: 1000 (33.3%)

======================================================================
RUNNING PREDICTIONS
======================================================================
Extracting features and predicting...
(This may take a moment due to POS tagging)
Extracting POS tags using 10 CPU cores (threading backend)...
✓ Predictions complete

======================================================================
RESULTS
======================================================================
Accuracy: 0.7657 (76.57%)
Random Baseline: 0.3333 (33.33%)
Improvement over Random: 43.23 percentage points

======================================================================
CLASSIFICATION REPORT
======================================================================
                            precision    recall  f1-score   support

chatgpt-4o-latest-20250326       0.73      0.72      0.72      1000
 claude-3-5-haiku-20241022       0.77      0.81      0.79      1000
          deepseek-r1-0528       0.79      0.77      0.78      1000

                  accuracy                           0.77      3000
                 macro avg       0.77      0.77      0.77      3000
              weighted avg       0.77      0.77      0.77      3000

======================================================================
CONFUSION MATRIX
======================================================================
                            chatgpt-4o-latest-20250326  ...  deepseek-r1-0528
chatgpt-4o-latest-20250326                         717  ...               136
claude-3-5-haiku-20241022                          120  ...                70
deepseek-r1-0528                                   141  ...               770

[3 rows x 3 columns]

======================================================================
INTERPRETATION
======================================================================
✅ HIGH ACCURACY: 76.57%

Conclusion:
  Even without markdown, the classifier achieves high accuracy.
  This proves that stylistic fingerprints persist beyond surface formatting.

Implication:
  Markdown removal alone is INSUFFICIENT to eliminate model fingerprints.
  Other features (POS patterns, word choice, syntax) remain strong signals.

======================================================================
COMPARISON TO BASELINE
======================================================================
Normal classifier on original data:     80.50%
Normal classifier on markdown-stripped: 50.47% (-30.03pp)
Markdown-free classifier on markdown-stripped: 76.57% (-3.93pp)

Key Finding:
  Markdown-free classifier maintains high accuracy despite markdown removal,
  proving that the classifier ADAPTS by using other stylistic features.
